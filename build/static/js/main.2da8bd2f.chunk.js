(this["webpackJsonponemart-frontend"]=this["webpackJsonponemart-frontend"]||[]).push([[0],{100:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(22),s=c.n(a),i=(c(57),c.p,c(58),c(7)),l=(c(59),c.p+"static/media/onemart2.75bdc439.jpeg"),o=(c.p,c.p,c(18)),d=c(46),j=c(8),u=(c(63),c(1));function b(){var e=Object(j.c)((function(e){return e.category})).categories;return Object(u.jsx)("div",{className:"menuHeader",children:Object(u.jsx)("ul",{children:function e(t){var c,n=[],r=Object(d.a)(t);try{for(r.s();!(c=r.n()).done;){var a=c.value;n.push(Object(u.jsxs)("li",{children:[a.parentId?Object(u.jsx)("a",{href:"/".concat(a.slug,"?cid=").concat(a._id,"&type=").concat(a.type),children:a.name}):Object(u.jsx)("span",{children:a.name}),a.children.length>0?Object(u.jsx)("ul",{children:e(a.children)}):Object(u.jsx)("span",{style:{padding:0,margin:0}})]},a.name))}}catch(s){r.e(s)}finally{r.f()}return n}(e)})})}var p=c(3),O=(c(65),function(e){return e.visible?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"modalFixedBg",children:Object(u.jsxs)("div",{style:{position:"relative"},children:[Object(u.jsx)("div",{className:"modalClose",onClick:e.onClose,children:"X"}),Object(u.jsx)("div",{className:"modalContainer",children:e.children})]})})}):null}),x=function(e){var t=Object(n.useState)(!1),c=Object(i.a)(t,2),r=c[0],a=c[1];return Object(u.jsxs)("div",{className:"materialInput",children:[Object(u.jsx)("label",{className:"label ".concat(r?"focus":""),style:{top:0,lineHeight:"none"},children:e.label}),Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("input",{className:"input",type:e.type,value:e.value,onChange:e.onChange,onFocus:function(e){a(!0)},onBlur:function(e){""===e.target.value&&a(!1)}}),e.rightElement?e.rightElement:null]})]})},h=function(e){var t={};return e.style&&(t=e.style),Object(u.jsx)("div",{style:Object(p.a)({width:"90%"},t),children:Object(u.jsx)("button",{className:"materialButton",onClick:e.onClick,children:e.title&&e.title})})},m=function(e){return Object(u.jsxs)("div",{className:"headerDropdownContainer",children:[e.menu,Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("div",{className:"upArrow"}),e.firstMenu,Object(u.jsx)("ul",{className:"headerDropdownMenu",children:e.menus&&e.menus.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:e.href,onClick:e.onClick,children:e.label})},t)}))})]})]})},f=c(6),g=c.n(f),y=c(11),v="GET_ALL_CATEGORIES_REQUEST",S="GET_ALL_CATEGORIES_SUCCESS",E="GET_ALL_CATEGORIES_FAILED",C="GET_ALL_PRODUCTS_BY_SLUG_REQUEST",I="GET_ALL_PRODUCTS_BY_SLUG_SUCCESS",_="GET_ALL_PRODUCTS_BY_SLUG_FAILED",w="GET_PRODUCT_DETAILS_BY_ID_REQUEST",N="GET_PRODUCT_DETAILS_BY_ID_SUCCESS",R="GET_PRODUCT_DETAILS_BY_ID_FAILED",k="GET_PRODUCT_PAGE_REQUEST",D="GET_PRODUCT_PAGE_SUCCESS",T="GET_PRODUCT_PAGE_FAILED",U={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILED:"LOGIN_FAILED",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGOUT_FAILED:"LOGOUT_FAILED",USER_REGISTER_REQUEST:"USER_REGISTER_REQUEST",USER_REGISTER_SUCCESS:"USER_REGISTER_SUCCESS",USER_REGISTER_FAILURE:"USER_REGISTER_FAILURE"},A="ADD_TO_CART",L="RESET_CART",G="GET_USER_ADDRESS_REQUEST",P="GET_USER_ADDRESS_SUCCESS",F="GET_USER_ADDRESS_FAILED",B="ADD_USER_ADDRESS_REQUEST",Q="ADD_USER_ADDRESS_SUCCESS",q="ADD_USER_ADDRESS_FAILED",W="ADD_USER_ORDER_SUCCESS",M="GET_USER_ORDERS_SUCCESS",H=c(47),z=c.n(H),Y=c(21),J=c(48),Z={token:null,user:{firstname:"",lastname:"",email:"",picture:"",role:""},authenticate:!1,authenticating:!1,loading:!1,error:"",message:""},X={cartItems:{}},K={categories:[],loading:!1,error:{}},V={loading:!1,products:[],productsByPrice:{under5k:[],under10k:[],under15k:[],under20k:[],under50k:[]},productPage:{},pageRequest:!1,productDetails:{}},$={address:[],orders:[],orderFetching:null,loading:!1,error:null},ee=Object(Y.combineReducers)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return console.log("requested"),Object(p.a)(Object(p.a)({},e),{},{loading:!0});case S:return Object(p.a)(Object(p.a)({},e),{},{categories:t.payload.categories,loading:!1});case E:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case I:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,products:t.payload.products,productsByPrice:Object(p.a)({},t.payload.productsByPrice)});case _:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});case D:return Object(p.a)(Object(p.a)({},e),{},{pageRequest:!1,productPage:t.payload.productPage});case w:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case N:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,productDetails:t.payload.productDetails});case R:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.LOGIN_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{authenticating:!0});case U.LOGIN_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticating:!1,authenticate:!0});case U.LOGIN_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload.error,authenticating:!1,authenticate:!1});case U.LOGOUT_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case U.LOGOUT_SUCCESS:return Object(p.a)({},Z);case U.LOGOUT_FAILED:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload});case U.USER_REGISTER_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case U.USER_REGISTER_SUCCESS:case U.USER_REGISTER_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,message:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(p.a)(Object(p.a)({},e),{},{cartItems:t.payload.cartItems});case L:return Object(p.a)(Object(p.a)({},e),{},{cartItems:{}});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case P:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,address:t.payload.address});case F:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});case B:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case Q:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,address:t.payload.address});case q:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload.error});case W:return Object(p.a)(Object(p.a)({},e),{},{loading:!1});case M:return Object(p.a)(Object(p.a)({},e),{},{orderFetching:!1,orders:t.payload.orders});default:return Object(p.a)({},e)}}}),te=c(49),ce=Object(Y.createStore)(ee,Object(te.composeWithDevTools)(Object(Y.applyMiddleware)(J.a))),ne=function(e){return"".concat(e)},re=window.localStorage.getItem("token"),ae=z.a.create({baseURL:"https://onemartbackend2.herokuapp.com/api",headers:{token:re||""}});ae.interceptors.request.use((function(e){var t=ce.getState().auth;return t.token&&(e.headers.token=t.token),e}));var se=ae,ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var c=Object(y.a)(g.a.mark((function c(n){var r,a,s,i,l;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=ce.getState().auth,a=ce.getState().cart.cartItems,s=a[e._id]?parseInt(parseInt(a[e._id].qty)+t):1,a[e._id]=Object(p.a)(Object(p.a)({},e),{},{qty:s}),!r.authenticate){c.next=13;break}return i=[],Object.keys(a).map((function(e,t){i.push({product:e,quantity:a[e].qty})})),c.next=9,se.post("/user/cart/addtocart",{cartItems:i});case 9:201===(l=c.sent).status&&(l.data.cartItems,n(le())),c.next=15;break;case 13:localStorage.setItem("cart",JSON.stringify(a)),n({type:A,payload:{cartItems:a}});case 15:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},le=function(){return function(){var e=Object(y.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.get("/user/cart/getcartitems");case 2:200===(c=e.sent).status&&(n=c.data.cartItems,t({type:A,payload:{cartItems:n}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("cart"),t({type:L});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=c(19),je=function(e){var t=Object(j.c)((function(e){return e.auth})),c=Object(n.useState)(!1),r=Object(i.a)(c,2),a=r[0],s=r[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),v=(f[0],f[1]),S=Object(n.useState)(""),E=Object(i.a)(S,2),C=E[0],I=E[1],_=Object(n.useState)(""),w=Object(i.a)(_,2),N=w[0],R=w[1],k=Object(j.b)();Object(n.useEffect)((function(){s(!1),v(!1)}),[t.authenticate]);var D=function(){k(function(){var e=Object(y.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signout action received"),t({type:U.LOGOUT_REQUEST}),e.next=4,se.post("/signout");case 4:200===(c=e.sent).status?(t({type:U.LOGOUT_SUCCESS,payload:c.data.message}),t(oe()),localStorage.clear()):t({type:U.LOGOUT_FAILED,payload:c.data.error});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(u.jsxs)("div",{className:"wholeHeader",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(O,{visible:a,onClose:function(){return s(!1)},children:Object(u.jsx)("div",{className:"authContainer",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"leftspace",children:[Object(u.jsx)("h2",{children:"Login"}),Object(u.jsx)("p",{children:"Get access to your Orders, Wishlist and Recommendations"})]}),Object(u.jsxs)("div",{className:"rightspace",children:[Object(u.jsx)(x,{type:"text",label:"Enter Email/Enter Mobile Number",value:C,onChange:function(e){return I(e.target.value)}}),Object(u.jsx)("div",{style:{height:"20px"}}),Object(u.jsx)(x,{type:"password",label:"Enter Password",value:N,onChange:function(e){return R(e.target.value)},rightElement:Object(u.jsx)("a",{href:"#",children:"Forgot?"})}),Object(u.jsx)("div",{style:{height:"30px"}}),Object(u.jsx)(h,{title:"Login",bgColor:"#fb641b",textColor:"#ffffff",onClick:function(){k(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n,r,a,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:U.LOGIN_REQUEST}),t.next=3,se.post("/signin",Object(p.a)({},e));case 3:200===(n=t.sent).status?(r=n.data,a=r.token,s=r.user,localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),c({type:U.LOGIN_SUCCESS,payload:{token:a,user:s}})):400===n.status&&c({type:U.LOGIN_FAILURE,payload:{error:n.data.error}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({email:C,password:N})),I(""),R("")}})]})]})})}),Object(u.jsxs)("div",{className:"subHeader",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)("a",{href:"",children:Object(u.jsx)("img",{src:l,className:"logoimage",alt:""})})}),Object(u.jsx)("div",{style:{padding:"0 10px"},children:Object(u.jsxs)("div",{className:"searchInputContainer",children:[Object(u.jsx)("input",{className:"searchInput",placeholder:"search for products, brands and more"}),Object(u.jsx)("div",{className:"searchIconContainer",children:Object(u.jsx)(o.d,{style:{color:"#2874f0"}})})]})}),Object(u.jsxs)("div",{className:"rightMenu",children:[t.authenticate?Object(u.jsx)(m,{menu:Object(u.jsx)("a",{className:"more",onClick:function(){return s(!0)},children:t.user.firstname}),menus:[{label:"My Profile",href:"",icon:null},{label:"onemart Plus Zone",href:"",icon:null},{label:"Orders",href:"/user/orders",icon:null},{label:"Wishlist",href:"",icon:null},{label:"Rewards",href:"",icon:null},{label:"Gift Cards",href:"",icon:null},{label:"Notifications",href:"",icon:null},{label:"LogOut",href:"",icon:null,onClick:function(){D()}}]}):Object(u.jsx)(m,{menu:Object(u.jsx)("a",{className:"more",onClick:function(){return s(!0)},children:"Login"}),menus:[{label:"My Profile",href:"",icon:null},{label:"onemart Plus Zone",href:"",icon:null},{label:"Orders",href:"",icon:null},{label:"Wishlist",href:"",icon:null},{label:"Rewards",href:"",icon:null},{label:"Gift Cards",href:"",icon:null}],firstMenu:Object(u.jsxs)("div",{className:"firstmenu",children:[Object(u.jsx)("span",{children:"New Customer?"}),Object(u.jsx)(de.b,{style:{color:"#2874f0"},to:"/signup",children:"Sign Up"})]})}),Object(u.jsx)(m,{menu:Object(u.jsxs)("a",{className:"more",children:[Object(u.jsx)("span",{children:"More"}),Object(u.jsx)(o.a,{})]}),menus:[{label:"Notification Preference",href:"",icon:null},{label:"Sell on onemart",href:"",icon:null},{label:"24x7 Customer Care",href:"",icon:null},{label:"Advertise",href:"",icon:null},{label:"Download App",href:"",icon:null}]}),Object(u.jsx)("div",{children:Object(u.jsxs)(de.b,{className:"cart",to:"/cart",children:[Object(u.jsx)(o.c,{}),Object(u.jsx)("span",{style:{margin:"0 10px",cursor:"pointer"},onClick:function(){console.log("sdfghj")},children:"Cart"})]})})]})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(b,{})})]})};function ue(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(je,{}),e.children]})}c(87);function be(){return Object(u.jsx)("div",{children:Object(u.jsx)(ue,{})})}var pe=c(12),Oe=function(e){if(e){var t=e.split("?")[1];if(t.length>0){var c=t.split("&"),n={};return c.forEach((function(e){var t=e.split("=");n[t[0]]=t[1]})),n}}return{}},xe=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n,r,a,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:C}),t.next=3,se.get("/products/".concat(e));case 3:n=t.sent,r=n.data,a=r.products,s=r.productsByPrice,200===n.status?c({type:I,payload:{products:a,productsByPrice:s}}):c({type:_,payload:{error:n.data.error}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=(c(88),c(50)),me=(c(93),function(e){return Object(u.jsx)("div",{className:"card",style:Object(p.a)({},e.style),children:e.children})}),fe=function(e){var t=Object(j.c)((function(e){return e.product})),c=Object(j.b)();return Object(n.useEffect)((function(){var t=e.match.params,n=t.cid,r=t.type;console.log(n),console.log(r),c(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n,r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cid,r=e.type,c({type:k}),t.next=4,se.get("/page/".concat(n,"/").concat(r));case 4:200===(a=t.sent).status?c({type:D,payload:{productPage:a.data.page}}):c({type:T,payload:{error:a.data.error}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({cid:n,type:r}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:t.productPage.title})}),Object(u.jsx)("div",{style:{border:"2px solid grey",borderRadius:"5px",margin:"10px 10px",marginBottom:"50px",boxShadow:"5px 10px 8px 10px #888888"},children:Object(u.jsx)(he.Carousel,{renderThumbs:function(){},children:t.productPage.banners?t.productPage.banners.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.img})})})):null})}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",margin:"0 5px"},children:t.productPage.products?t.productPage.products.map((function(e,t){return Object(u.jsx)(me,{style:{width:"320px",height:"350px",margin:"20px 20px"},children:Object(u.jsx)("a",{href:e.navigateTo,style:{display:"block"},children:Object(u.jsx)("img",{src:e.img,style:{width:"100%"}})})},t)})):null})]})},ge=(c(94),function(e){var t=Object(j.c)((function(e){return e.product})),c=Object(j.b)();return console.log("in product store useEffect"),Object(n.useEffect)(Object(y.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.match.params.slug,c(xe(n));case 2:case"end":return t.stop()}}),t)}))),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"cardHeader",children:[Object(u.jsx)("div",{children:"All products"}),Object(u.jsx)("button",{children:"view all"})]}),Object(u.jsx)("div",{style:{display:"flex"},children:t.products.map((function(e){return Object(u.jsxs)("a",{className:"productContainer",style:{display:"block"},href:"/".concat(e.slug,"/").concat(e._id,"/p"),children:[Object(u.jsx)("div",{className:"productImgContainer",children:Object(u.jsx)("img",{src:ne(e.productPictures[0].img)})}),Object(u.jsxs)("div",{className:"productInfo",children:[Object(u.jsx)("span",{className:"productRating",children:"4.4"}),Object(u.jsx)("span",{children:"3300"})]}),Object(u.jsx)("div",{className:"productName",children:e.name}),Object(u.jsx)("div",{className:"price",children:e.price})]})}))})]}),Object.keys(t.productsByPrice).map((function(e,c){return Object(u.jsx)(u.Fragment,{children:Object.keys(t.productsByPrice[e]).length>0?Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"cardHeader",children:[Object(u.jsx)("div",{children:e}),Object(u.jsx)("button",{children:"view all"})]}),Object(u.jsx)("div",{style:{display:"flex"},children:t.productsByPrice[e].map((function(e){return Object(u.jsxs)("div",{className:"productContainer",children:[Object(u.jsx)("div",{className:"productImgContainer",children:Object(u.jsx)("img",{src:ne(e.productPictures[0].img)})}),Object(u.jsxs)("div",{className:"productInfo",children:[Object(u.jsx)("span",{className:"productRating",children:"4.4"}),Object(u.jsx)("span",{children:"3300"})]}),Object(u.jsx)("div",{className:"productName",children:e.name}),Object(u.jsx)("div",{className:"price",children:e.price})]})}))})]}):null})}))]})})}),ye=(c(95),function(e){return Object(u.jsx)(ue,{children:function(){var t=Oe(e.location.search),c=t.cid,n=t.type;e.match.params.cid=c,e.match.params.type=n;var r=null;switch(console.log(e),n){case"store":r=Object(u.jsx)(ge,Object(p.a)({},e));break;case"page":r=Object(u.jsx)(fe,Object(p.a)({},e));break;default:r=""}return r}()})}),ve=c(31),Se=c(51),Ee=(c(96),function(e){var t=Object(j.b)(),c=Object(j.c)((function(e){return e.product}));return Object(n.useEffect)((function(){var c=e.match.params,n=(c.product,c.productId);t(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.productId,c({type:w}),t.next=4,se.get("/product/".concat(n));case 4:200===(r=t.sent).status?(console.log("get product details by ID success 200"),c({type:N,payload:{productDetails:r.data.product}})):c({type:R,payload:{error:r.data.error}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({productId:n}))}),[]),Object(u.jsx)(ue,{children:c.productDetails?Object(u.jsxs)("div",{className:"productDescriptionContainer",children:[Object(u.jsxs)("div",{className:"flexRow",style:{display:"flex"},children:[Object(u.jsx)("div",{className:"verticalImageStack",children:c.productDetails.productPictures&&c.productDetails.productPictures.map((function(e,t){return Object(u.jsx)("div",{className:"thumbnail",children:Object(u.jsx)("a",{href:ne(e.img),children:Object(u.jsx)("img",{src:ne(e.img),alt:e.img})})})}))}),Object(u.jsxs)("div",{className:"productDescContainer",children:[Object(u.jsx)("div",{className:"productDescImgContainer",style:{height:"580px"},children:Object(u.jsx)("a",{href:ne(c.productDetails.productPictures&&c.productDetails.productPictures[0].img),children:Object(u.jsx)("img",{style:{height:"580px"},src:ne(c.productDetails.productPictures&&c.productDetails.productPictures[0].img),alt:c.productDetails.productPictures&&c.productDetails.productPictures[0].img})})}),Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsx)(h,{title:"ADD TO CART",bgColor:"#ff9f00",textColor:"#ffffff",onClick:function(){var n=c.productDetails,r=n._id,a=n.name,s=n.price,i=c.productDetails.productPictures[0].img;t(ie({_id:r,name:a,price:s,img:i})),e.history.push("/cart")},style:{margin:"10px auto 5px auto"},icon:Object(u.jsx)(o.f,{})}),Object(u.jsx)(h,{title:"BUY NOW",bgColor:"#fb641b",textColor:"#ffffff",style:{margin:"10px auto 5px auto"},icon:Object(u.jsx)(Se.a,{})})]})]})]}),Object(u.jsxs)("div",{style:{margin:"10px auto auto 40px"},children:[Object(u.jsx)("div",{className:"breed",children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("a",{href:"#",children:"Home"}),Object(u.jsx)(o.b,{})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("a",{href:"#",children:"Mobiles"}),Object(u.jsx)(o.b,{})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("a",{href:"#",children:"Samsung"}),Object(u.jsx)(o.b,{})]}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#",children:c.productDetails.name})})]})}),Object(u.jsxs)("div",{className:"productDetails",children:[Object(u.jsx)("p",{className:"productTitle",children:c.productDetails.name}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"ratingCount",children:["4.3 ",Object(u.jsx)(o.e,{})]}),Object(u.jsx)("span",{className:"ratingNumbersReviews",children:"72,234 Ratings & 8,140 Reviews"})]}),Object(u.jsxs)("div",{className:"extraOffer",children:["Extra ",Object(u.jsx)(ve.a,{}),"4500 off "]}),Object(u.jsxs)("div",{className:"flexRow priceContainer",children:[Object(u.jsxs)("span",{className:"pricebtn",children:[Object(u.jsx)(ve.a,{}),c.productDetails.price]}),Object(u.jsx)("span",{className:"discount",style:{margin:"0 10px"},children:"22% off"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{style:{color:"#212121",fontSize:"14px",fontWeight:"600"},children:"Available Offers"}),Object(u.jsxs)("p",{style:{display:"flex"},children:[Object(u.jsx)("span",{style:{width:"100px",fontSize:"14px",color:"#878787",fontWeight:"600",marginRight:"20px"},children:"Description"}),Object(u.jsx)("span",{style:{fontSize:"15px",color:"#212121"},children:c.productDetails.description})]})]})]})]})]}):null})}),Ce=function(e){var t=e.cartItem,c=t._id,r=t.name,a=t.price,s=t.img,l=Object(n.useState)(e.cartItem.qty),o=Object(i.a)(l,2),d=o[0],j=o[1];return Object(u.jsxs)("div",{style:{borderBottom:"1px solid #212121",margin:"auto 10px",maxHeight:"250px"},children:[Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("div",{style:{height:"120px",width:"120px"},children:Object(u.jsx)("img",{style:{height:"90%",width:"90%",objectFit:"contain",margin:"3px 3px"},src:ne(s),alt:""})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:{textAlign:"left",margin:"4px 10px"},children:Object(u.jsx)("h3",{children:r})}),Object(u.jsx)("div",{style:{textAlign:"left",margin:"4px 10px"},children:Object(u.jsx)("h4",{children:a})})]})]}),Object(u.jsxs)("div",{style:{textAlign:"center",display:"flex",height:"40px"},children:[Object(u.jsx)("span",{style:{margin:"auto 25px",border:"1px solid black",borderRadius:"50%",width:"20px",textAlign:"center"},onClick:function(){j(d+1),e.onQuantityInc(c,d)},children:"+"}),Object(u.jsx)("h5",{style:{margin:"auto 5px",padding:"auto 10px",border:"1px solid grey"},children:d}),Object(u.jsx)("span",{style:{margin:"auto 25px",border:"1px solid black",borderRadius:"50%",width:"20px",textAlign:"center"},onClick:function(){d<=1||(j(d-1),e.onQuantityDec(c,d))},children:"-"})]})]})},Ie=(c(97),function(e){return Object(u.jsxs)("div",{style:e.style&&e.style,children:[Object(u.jsxs)("div",{style:{margin:"5px 5px",fontSize:"16px",fontWeight:"bold",textAlign:"left"},children:["Total Items : ",e.totalItems]}),Object(u.jsx)("div",{style:{padding:"5px 5px",fontSize:"16px",fontWeight:"bold",textAlign:"left",borderBottom:"2px solid grey"},children:"Shipping Charges: 0"}),Object(u.jsxs)("div",{style:{margin:"5px 5px",fontSize:"16px",fontWeight:"bold",textAlign:"left"},children:["Total Amount : ",e.totalPrice]})]})});function _e(e){console.log("helllooo");var t=Object(j.c)((function(e){return e.cart})),c=Object(j.c)((function(e){return e.auth})),r=Object(n.useState)(t.cartItems),a=Object(i.a)(r,2),s=a[0],l=a[1],o=Object(j.b)();Object(n.useEffect)((function(){l(t.cartItems)})),Object(n.useEffect)((function(){c.authenticate&&(o(le()),console.log("sdfghjrtyucvbn"),l(t.cartItems))}),[c.authenticate]);var d=function(e,t){var c=s[e],n=c.name,r=c.img,a=c.price;o(ie({_id:e,name:n,img:r,price:a,qty:t},1))},b=function(e,t){var c=s[e],n=c.name,r=c.img,a=c.price;o(ie({_id:e,name:n,img:r,price:a,qty:t},-1))};return e.withoutHeaderAndFooter?Object(u.jsx)("div",{children:Object.keys(s).map((function(e,t){return Object(u.jsx)(Ce,{cartItem:s[e],onQuantityInc:d,onQuantityDec:b},t)}))}):Object(u.jsx)(ue,{children:Object(u.jsxs)("div",{style:{display:"flex",margin:"10px 20px"},className:"cartPageDiv",children:[Object(u.jsxs)("div",{style:{width:"75%",border:"2px solid black"},children:[Object(u.jsx)("div",{style:{borderBottom:"2px solid black"},children:Object(u.jsx)("h3",{children:"My Cart"})}),Object(u.jsx)("div",{children:Object.keys(s).map((function(e,t){return Object(u.jsx)(Ce,{cartItem:s[e],onQuantityInc:d,onQuantityDec:b},t)}))}),Object(u.jsx)("div",{style:{margin:"5px 10px",width:"30%"},children:Object(u.jsx)(h,{title:"Place Order",onClick:function(){e.history.push("/checkout")}})})]}),Object(u.jsxs)("div",{style:{width:"25%",border:"2px solid black"},children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{children:"Price Details"})}),Object(u.jsx)("div",{children:Object(u.jsx)(Ie,{style:{margin:"20px 20px"},totalItems:Object.keys(t.cartItems).reduce((function(e,c){return e+t.cartItems[c].qty}),0),totalPrice:Object.keys(t.cartItems).reduce((function(e,c){return e+t.cartItems[c].price*t.cartItems[c].qty}),0)})})]})]})})}var we=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.post("/user/address/create",{payload:e});case 2:201===(n=t.sent).status&&(r=n.data.userAddress.address,c({type:Q,payload:{address:r}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){var t=e.initalData,c=e.onSubmit,r=e.onSubmitFormAndDeliever,a=Object(n.useState)(t?t.name:""),s=Object(i.a)(a,2),l=s[0],o=s[1],d=Object(n.useState)(t?t.mobileNumber:""),j=Object(i.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(t?t.pinCode:""),h=Object(i.a)(O,2),m=h[0],f=h[1],g=Object(n.useState)(t?t.locality:""),y=Object(i.a)(g,2),v=y[0],S=y[1],E=Object(n.useState)(t?t.address:""),C=Object(i.a)(E,2),I=C[0],_=C[1],w=Object(n.useState)(t?t.cityDistrictTown:""),N=Object(i.a)(w,2),R=N[0],k=N[1],D=Object(n.useState)(t?t.state:""),T=Object(i.a)(D,2),U=T[0],A=T[1],L=Object(n.useState)(t?t.landmark:""),G=Object(i.a)(L,2),P=G[0],F=G[1],B=Object(n.useState)(t?t.alternatePhone:""),Q=Object(i.a)(B,2),q=Q[0],W=Q[1],M=Object(n.useState)(t?t.addressType:""),H=Object(i.a)(M,2),z=H[0],Y=H[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"addFormStep",children:[Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"name",type:"text",value:l,onChange:function(e){o(e.target.value)}})}),Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"mobile number",type:"text",value:b,onChange:function(e){p(e.target.value)}})})]}),Object(u.jsx)("div",{className:"flexRow",children:Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"address",type:"text",value:I,onChange:function(e){_(e.target.value)}})})}),Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"landmark",type:"text",value:P,onChange:function(e){F(e.target.value)}})}),Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"pincode",type:"text",value:m,onChange:function(e){f(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"city/district/town",type:"text",value:R,onChange:function(e){k(e.target.value)}})}),Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"state",type:"text",value:U,onChange:function(e){A(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"flexRow",children:[Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"alternate phoneNumber",type:"text",value:q,onChange:function(e){W(e.target.value)}})}),Object(u.jsx)("div",{style:{margin:"10px 15px",width:"100%"},children:Object(u.jsx)(x,{label:"locality",type:"text",value:v,onChange:function(e){S(e.target.value)}})})]}),Object(u.jsx)("div",{className:"flexRow",children:Object(u.jsxs)("div",{className:"flexRow",style:{margin:"10px 15px",width:"50%",textAlign:"center"},children:[Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:"Address type :"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",name:"type",value:"home",onClick:function(){Y("home")}}),Object(u.jsx)("label",{children:"home"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",name:"type",value:"work",onClick:function(){Y("work")}}),Object(u.jsx)("label",{children:"work"})]})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{cursor:"pointer",backgroundColor:"orange",margin:"10px 10px 0px 0",padding:"10px 10px",width:"250px",textAlign:"center"},children:Object(u.jsx)("span",{onClick:function(){var n={};n=t?{id:e.initalData._id,address:{name:l,mobileNumber:b,pinCode:m,locality:v,address:I,cityDistrictTown:R,state:U,landmark:P,alternatePhone:q,addressType:z}}:{address:{name:l,mobileNumber:b,pinCode:m,locality:v,address:I,cityDistrictTown:R,state:U,landmark:P,alternatePhone:q,addressType:z}},c(n)},style:{color:"black",fontWeight:"bold"},children:"Add Address"})}),Object(u.jsx)("div",{style:{cursor:"pointer",backgroundColor:"orange",margin:"10px 10px 0px 0",padding:"10px 10px",width:"250px",textAlign:"center"},children:Object(u.jsx)("span",{onClick:function(){var c={};c=t?{id:e.initalData._id,address:{name:l,mobileNumber:b,pinCode:m,locality:v,address:I,cityDistrictTown:R,state:U,landmark:P,alternatePhone:q,addressType:z}}:{address:{name:l,mobileNumber:b,pinCode:m,locality:v,address:I,cityDistrictTown:R,state:U,landmark:P,alternatePhone:q,addressType:z}},r(c)},style:{color:"black",fontWeight:"bold"},children:"save and deliever here"})})]})})]})})})},Re=(c(98),function(e){var t=Object(j.b)(),c=Object(j.c)((function(e){return e.auth})),r=Object(j.c)((function(e){return e.user})),a=Object(j.c)((function(e){return e.cart})),s=Object(n.useState)([]),l=Object(i.a)(s,2),o=l[0],d=l[1],b=Object(n.useState)(""),O=Object(i.a)(b,2),m=O[0],f=O[1],v=Object(n.useState)({}),S=Object(i.a)(v,2),E=S[0],C=S[1],I=Object(n.useState)(!1),_=Object(i.a)(I,2),w=_[0],N=_[1],R=Object(n.useState)(!1),k=Object(i.a)(R,2),D=k[0],T=k[1],U=Object(n.useState)(!1),A=Object(i.a)(U,2),L=A[0],G=A[1],F=Object(n.useState)(!1),B=Object(i.a)(F,2),Q=B[0],q=B[1],W=Object(n.useState)(a.cartItems),M=Object(i.a)(W,2),H=M[0],z=M[1];Object(n.useEffect)((function(){z(a.cartItems)}),[a.cartItems]),Object(n.useEffect)((function(){c.authenticate&&(t(le()),z(a.cartItems))}),[c.authenticate]),console.log("asdfgh"),console.log(r.address),Object(n.useEffect)((function(){var e;r.address&&(e=r.address.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{selected:!1,edit:!1})}))),d(e)}),[r.address]),Object(n.useEffect)((function(){c.authenticate&&t(function(){var e=Object(y.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.get("/user/address/getAddress");case 2:200===(c=e.sent).status&&(n=c.data.userAddress.address,t({type:P,payload:{address:n}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c.authenticate]);var Y=function(){var e=Object.keys(a.cartItems).map((function(e,t){return{productId:H[e]._id,payablePrice:H[e].price,purchaseQuantity:H[e].qty}})),c={addressId:E._id,totalAmount:te,items:e,paymentStatus:"pending"};console.log({payload:c}),t(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.post("/addOrder",e);case 2:201===(n=t.sent).status&&(c(oe()),console.log(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({payload:c}))},J=function(e){return Object(u.jsxs)("div",{className:"checkoutStep",children:[Object(u.jsx)("div",{className:"checkoutHeader ".concat(e.active&&"active"),children:Object(u.jsx)("div",{children:Object(u.jsxs)("span",{className:"stepNumber",style:{margin:0},children:[e.stepNumber,". ",e.stepTitle]})})}),e.body&&e.body]})},Z=function(e){console.log(e),t(we(e)),T(!1)},X=function(e){console.log(e),t(we(e)),T(!1),C(e.address),N(!0),G(!0),console.log(E)},K=function(){},V=function(e,c){var n=H[e],r=n.name,a=n.img,s=n.price;t(ie({_id:e,name:r,img:a,price:s,qty:c},1))},$=function(e,c){var n=H[e],r=n.name,a=n.img,s=n.price;t(ie({_id:e,name:r,img:a,price:s,qty:c},-1))},ee=Object.keys(a.cartItems).reduce((function(e,t){return e+a.cartItems[t].qty}),0),te=Object.keys(a.cartItems).reduce((function(e,t){return e+a.cartItems[t].price*a.cartItems[t].qty}),0);return Object(u.jsx)(ue,{children:a.cartItems.length>0?Object(u.jsx)("h1",{style:{margin:"50px 70px"},children:"There is no Item in your Cart   GO and Shop "}):Object(u.jsx)("div",{className:"checkout",children:Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("div",{style:{width:"75vw"},children:Object(u.jsxs)("div",{children:[Object(u.jsx)(J,{stepNumber:"1",stepTitle:"Required logIn",active:!c.authenticate,body:c.authenticate?Object(u.jsxs)("div",{className:"loggedInId",children:[Object(u.jsx)("p",{className:"para",style:{fontWeight:500},children:c.user.firstname}),Object(u.jsx)("p",{className:"para",children:c.user.email})]}):Object(u.jsxs)("div",{style:{width:"50%"},children:[Object(u.jsx)(x,{label:"email",type:"text"}),Object(u.jsx)(x,{label:"password",type:"password"}),Object(u.jsx)("p",{style:{margin:"5px",color:"blue"},children:"SignIn"})]})}),Object(u.jsx)(J,{stepNumber:"2",stepTitle:"Confirm Delivery address",active:!(!(o&&o.length>0)||w),body:Object(u.jsx)("div",{className:"address",children:w?Object(u.jsx)("div",{children:E.address}):Object(u.jsxs)("div",{children:[" ",o&&o.map((function(e,t){return Object(u.jsxs)("div",{style:{margin:"10px 12px 15px 12px",borderBottom:"2px solid black"},children:[Object(u.jsxs)("div",{className:"flexRow",style:{paddingBottom:"10px"},children:[Object(u.jsx)("div",{style:{margin:"5px 10px"},children:Object(u.jsx)("input",{type:"radio",name:"address",value:e._id,checked:e._id==m,onChange:function(e){f(e.target.value)},onClick:function(){return function(e){var t=o.map((function(t){return t._id===e._id?Object(p.a)(Object(p.a)({},t),{},{selected:!0}):Object(p.a)(Object(p.a)({},t),{},{selected:!1})}));console.log(t),d(t)}(e)}})}),Object(u.jsxs)("div",{style:{width:"90%"},children:[Object(u.jsx)("div",{style:{fontWeight:"bolder"},children:e.name}),Object(u.jsx)("div",{children:e.address}),Object(u.jsx)("p",{className:"para",style:{fontWeight:"lighter"},children:e.addressType}),Object(u.jsxs)("p",{className:"para",children:["Contact Number : ",e.mobileNumber]})]}),e.selected&&Object(u.jsx)("div",{style:{margin:"5px",marginLeft:"auto"},children:Object(u.jsx)("span",{style:{cursor:"pointer"},onClick:function(){!function(e){var t=o.map((function(t){return t._id===e._id?Object(p.a)(Object(p.a)({},t),{},{edit:!0}):Object(p.a)(Object(p.a)({},t),{},{edit:!1})}));console.log(t),d(t)}(e)},children:"Edit"})})]}),Object(u.jsx)("div",{children:e.edit&&Object(u.jsx)("div",{style:{margin:"10px 10px"},children:Object(u.jsx)(Ne,{withoutLabel:!0,initalData:e,onSubmit:Z,onSubmitFormAndDeliever:X,onCancel:K})})}),Object(u.jsx)("div",{children:e.selected&&!e.edit&&Object(u.jsx)("div",{style:{display:"flex"},children:Object(u.jsx)("div",{style:{padding:"5px",marginBottom:"5px",backgroundColor:"orange",width:"200px",textAlign:"center",fontSize:"16px",fontWeight:"bolder"},children:Object(u.jsx)("span",{style:{cursor:"pointer"},onClick:function(){!function(e){C(e),N(!0),G(!0),console.log(E)}(e)},children:Object(u.jsx)("span",{children:"Deliever here"})})})})})]},t)})),Object(u.jsx)("div",{className:"addFormStep",children:Object(u.jsx)("div",{className:"checkoutHeader1",children:Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"stepNumber",onClick:function(){T(!0)},style:{cursor:"pointer",fontWeight:"bolder",fontSize:"14px",color:"blue"},children:"+ Add New Address"})})})}),D&&Object(u.jsx)(Ne,{onSubmit:Z,onSubmitFormAndDeliever:X,onCancel:K})]})})}),Object(u.jsx)(J,{stepNumber:"3",stepTitle:"order Summary",active:w,body:L?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object.keys(H).map((function(e,t){return Object(u.jsx)(Ce,{cartItem:H[e],onQuantityInc:V,onQuantityDec:$},t)}))}),Object(u.jsx)("div",{children:Object(u.jsx)(h,{style:{width:"30%",margin:"4px 5px 4px auto"},title:"Continue",onClick:function(){G(!1),q(!0)}})})]}):Object(u.jsx)("div",{children:"".concat(ee," Items")})}),Object(u.jsx)(J,{stepNumber:"4",stepTitle:"Payment Options",active:!1,body:Q?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio"}),Object(u.jsx)("label",{children:"Cash On Delivery"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(h,{style:{width:"30%",margin:"4px 5px 4px auto"},title:"Place Order",onClick:function(){Y(),q(!1)}})})]}):Object(u.jsx)("div",{children:"ThankYou Page"})})]})}),Object(u.jsx)("div",{style:{width:"20vw"},children:Object(u.jsxs)("div",{style:{margin:"10px 10px",padding:"20px 10px",boxShadow:"2px -2px 10px 2px grey"},children:[Object(u.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px",marginBottom:"10px"},children:"PriceDetails"}),Object(u.jsx)(Ie,{totalItems:Object.keys(a.cartItems).reduce((function(e,t){return e+a.cartItems[t].qty}),0),totalPrice:Object.keys(a.cartItems).reduce((function(e,t){return e+a.cartItems[t].price*a.cartItems[t].qty}),0)})]})})]})})})});function ke(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.user}));return Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("asdfghj"),e.next=3,se.get("/getOrders");case 3:200===(c=e.sent).status&&(console.log(c.data),t({type:M,payload:{orders:c.data.orders}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(ue,{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:t.orders&&t.orders.map((function(e){return e.items.map((function(t,c){return Object(u.jsxs)("div",{style:{display:"flex",margin:"10px 10px",padding:"10px 10px",boxShadow:"-2px -2px 10px 2px grey"},children:[Object(u.jsx)("div",{style:{width:"100px",overflow:"hidden"},children:Object(u.jsx)("img",{style:{width:"100px",height:"100px",objectFit:"contain"},src:ne(t.productId.productPictures[0].img)})}),Object(u.jsx)("div",{style:{margin:"20px 10px 10px 40px",width:"300px",fontWeight:"bold"},children:t.productId.name}),Object(u.jsx)("div",{style:{margin:"20px 10px 10px 40px",width:"100px",fontWeight:"bold"},children:t.productId.price}),Object(u.jsx)("div",{style:{margin:"20px 10px 10px 40px",width:"300px",fontWeight:"bold"},children:e.paymentStatus})]},c)}))}))})})})})})}var De=c(101),Te=c(102),Ue=c(52),Ae=c(103),Le=function(e){return Object(u.jsxs)(Ae.a.Group,{controlId:"formBasicEmail",children:[Object(u.jsx)(Ae.a.Label,{children:e.label}),Object(u.jsx)(Ae.a.Control,{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange}),Object(u.jsx)(Ae.a.Text,{className:"text-muted",children:e.errorMessage})]})};function Ge(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(""),l=Object(i.a)(s,2),o=l[0],d=l[1],b=Object(n.useState)(""),O=Object(i.a)(b,2),x=O[0],h=O[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),v=f[0],S=f[1],E=Object(n.useState)(""),C=Object(i.a)(E,2),I=C[0],_=C[1],w=Object(j.b)();if(Object(j.c)((function(e){return e.auth})).authenticate)return Object(u.jsx)(pe.a,{to:"/"});return Object(u.jsx)("div",{children:Object(u.jsx)(ue,{children:Object(u.jsx)(De.a,{children:Object(u.jsx)(Te.a,{children:Object(u.jsx)(Ue.a,{md:{span:8,offset:2},children:Object(u.jsxs)("form",{children:[Object(u.jsxs)(Te.a,{children:[Object(u.jsx)(Ue.a,{md:"6",children:Object(u.jsx)(Le,{label:"firstname",type:"text",placeholder:"firstname",value:r,onChange:function(e){a(e.target.value)}})}),Object(u.jsx)(Ue.a,{md:"6",children:Object(u.jsx)(Le,{label:"lastname",type:"text",placeholder:"lastname",value:o,onChange:function(e){d(e.target.value)}})}),Object(u.jsx)(Ue.a,{md:"12",children:Object(u.jsx)(Le,{label:"username",type:"text",placeholder:"UserName",value:I,onChange:function(e){_(e.target.value)}})}),Object(u.jsx)(Ue.a,{md:"12",children:Object(u.jsx)(Le,{label:"email",type:"email",placeholder:"email-id",value:x,onChange:function(e){h(e.target.value)}})}),Object(u.jsx)(Ue.a,{md:"12",children:Object(u.jsx)(Le,{label:"password",type:"password",placeholder:"password",value:v,onChange:function(e){S(e.target.value)}})})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),w(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(c){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:U.USER_REGISTER_REQUEST}),t.next=3,se.post("/signup",Object(p.a)({},e));case 3:200===(n=t.sent).status&&c({type:U.USER_REGISTER_SUCCESS,payload:Object(p.a)({},n.data)}),400===n.status&&c({type:U.USER_REGISTER_FAILURE,payload:Object(p.a)({},n.data)});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({firstname:r,lastname:o,email:x,password:v,username:I})),e.history.push("/")},children:"Submit"})]})})})})})})}var Pe=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(g.a.mark((function e(t){var c,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.post("/initialData");case 2:200===(c=e.sent).status&&(n=c.data,r=n.categories,n.products,t({type:S,payload:{categories:r}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){t.authenticate||e(function(){var e=Object(y.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=localStorage.getItem("token"))?(n=JSON.parse(localStorage.getItem("user")),t({type:U.LOGIN_SUCCESS,payload:{token:c,user:n}})):t({type:U.LOGIN_FAILED,payload:{error:"failed to SignIn"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(n.useEffect)((function(){e(function(){var e=Object(y.a)(g.a.mark((function e(t){var c,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce.getState().auth.authenticate){e.next=12;break}return c=localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart")),localStorage.removeItem("cart"),n=[],c&&Object.keys(c).map((function(e,t){n.push({product:e,quantity:c[e].qty})})),e.next=8,se.post("/user/cart/addtocart",{cartItems:n});case 8:201===e.sent.status&&t(le()),e.next=14;break;case 12:(r=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):null)&&t({type:A,payload:{cartItems:r}});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(de.a,{children:Object(u.jsxs)(pe.d,{children:[Object(u.jsx)(pe.b,{exact:!0,path:"/",component:be}),Object(u.jsx)(pe.b,{path:"/user/orders",component:ke}),Object(u.jsx)(pe.b,{path:"/cart",component:_e}),Object(u.jsx)(pe.b,{path:"/signup",component:Ge}),Object(u.jsx)(pe.b,{path:"/checkout",component:Re}),Object(u.jsx)(pe.b,{path:"/:product/:productId/p",component:Ee}),Object(u.jsx)(pe.b,{path:"/:slug",component:ye})]})})})},Fe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};window.store=ce,s.a.render(Object(u.jsx)(j.a,{store:ce,children:Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(Pe,{})})}),document.getElementById("root")),Fe()},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},63:function(e,t,c){},65:function(e,t,c){},87:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){}},[[100,1,2]]]);
//# sourceMappingURL=main.2da8bd2f.chunk.js.map